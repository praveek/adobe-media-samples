/*! ************************************************************************
 *
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2015 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 * *************************************************************************/

/*! Copyright for external libraries used in ADBMobile library */
/*!
 * JavaScript MD5 1.0.1
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 * 
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */
var _version=function(){return{codeVersion:"cc-js-2.0.0.0-5b91531",mediaAPILevel:3}}(),ADBMobile_platform=function(){function a(a,b){if(a&&b)try{return window.localStorage.setItem(a,b),b}catch(c){_logger.error("Failed to store data element: "+c)}return null}function b(a){if(a)try{return window.localStorage.getItem(a)}catch(b){_logger.error("Failed to retrieve data element: "+b)}return null}function c(a,b,c,d,e,f){if(!a)return _logger.error("HTTPRequestAsync - URL required but was not passed"),null;c=c||{},e=e||500,f=f||function(){};var g=new XMLHttpRequest;g.onreadystatechange=function(){4==g.readyState&&(f(g.status,g.responseText,d||a),f=function(){})},g.timeout=e,g.ontimeout=function(){f(0,null,a),f=function(){}},g.open(b,a,!0),Object.keys(c).forEach(function(a){g.setRequestHeader(a,this[a])},c),g.send(d)}function d(){return"Chromecast resolution"}function e(){return cast.receiver.VERSION}function f(){return"Chromecast"}function g(){return"Chromecast App ID"}function h(){return g()}function i(){return Math.floor((new Date).getTime()/1e3)}function j(){return(new Date).getTime()}function k(){return"00/00/0000 00:00:00 0 "+(new Date).getTimezoneOffset()}function l(a,b){return setInterval(a,b)}function m(a){clearInterval(a)}function n(a){var b;if(window.DOMParser){b=(new DOMParser).parseFromString(a,"text/xml")}return b}function o(a){return a.item(0)}return{httpRequestAsync:c,writeValue:a,readValue:b,getResolution:d,getDeviceName:f,getOSVersion:e,getAppID:g,getDefaultPageName:h,getTimeSince1970:i,getTimeSince1970Millis:j,getTimestampString:k,setInterval:l,clearInterval:m,parseXML:n,getBaseItem:o}}(),ADBMobile=function(){var a=function(){function a(){d=ADBMobile_platform.readValue("adb_aid"),f=ADBMobile_platform.readValue("adb_ignore_aid")}function b(){return"yxxxxxxxxxxxxxxx-zxxxxxxxxxxxxxxx".replace(/[xyz]/g,function(a){return"0123456789ABCDEF".charAt(Math.floor(Math.random()*({y:7,x:16,z:4}[a]||0)))})}function c(a){if(g.isFunction(a))return d?void a(d):f&&e.visitorIDServiceEnabled()?void a(null):void i.getMarketingCloudIDAsync(function(c){var f=(e.ssl()?"https":"http")+"://"+e.trackingServer()+"/id";c&&(f+=i.getAnalyticsIDRequestParameterString()),ADBMobile_platform.httpRequestAsync(f,"GET",{},null,500,function(c,f){200==c&&f&&(d=JSON.parse(f).id,ADBMobile_platform.writeValue("adb_aid",d)),!d&&e.visitorIDServiceEnabled()?ADBMobile_platform.writeValue("adb_ignore_aid",!0):ADBMobile_platform.readValue("adb_aid")||(d=b(),ADBMobile_platform.writeValue("adb_aid",d)),d&&e.visitorIDServiceEnabled()&&i.idSync({AVID:d}),a(d)})})}var d,f;return{init:a,getAIDAsync:c}}(),b=function(){function a(a,c){var d={};b(c)&&Object.keys(c).forEach(function(a){d[a]=this[a]},c),h(d,{pageName:a||ADBMobile_platform.getDefaultPageName()},ADBMobile_platform.getTimeSince1970())}function b(a){return null!==a&&(void 0!==a&&a.constructor==={}.constructor)}function d(a,c,d){var e={};b(c)&&Object.keys(c).forEach(function(a){e[a]=this[a]},c),e["a.internalaction"]=a;var f={pe:"lnk_o",pev2:"ADBINTERNAL:"+a,pageName:ADBMobile_platform.getDefaultPageName()};h(e,f,d)}function f(a,c){var d={};b(c)&&Object.keys(c).forEach(function(a){d[a]=this[a]},c),d["a.action"]=a;var e={pe:"lnk_o",pev2:"AMACTION:"+a,pageName:ADBMobile_platform.getDefaultPageName()};h(d,e,ADBMobile_platform.getTimeSince1970())}function h(a,b,d){if(e.analyticsEnabled()){a=a||{},b=b||{},d=d||ADBMobile_platform.getTimeSince1970(),a["a.Resolution"]=ADBMobile_platform.getResolution(),a["a.DeviceName"]=ADBMobile_platform.getDeviceName(),a["a.OSVersion"]=ADBMobile_platform.getOSVersion(),a["a.AppID"]=ADBMobile_platform.getAppID();var f=e.getUserIdentifier();f&&(b.vid=f),e.offlineTrackingEnabled()&&(b.ts=d),b.ce=e.characterSet(),b.t=ADBMobile_platform.getTimestampString(),Object.keys(a).forEach(function(a){"&&"===a.slice(0,2)&&(b[a.slice(2)]=this[a],delete this[a])},a);var h="ndh=1"+g.serializeParameters(b)+g.serializeContextData(a);c.queue(h,ADBMobile_platform.getTimeSince1970())}}return{trackAction:f,trackState:a,trackInternal:d}}(),c=function(){function b(a,b){e.getPrivacyStatus()!=e.PRIVACY_STATUS_OPT_OUT?(f.debug("Analytics - Queued Hit("+a+")"),h.push({frag:a,ts:b}),c()):f.debug("Analytics - Not queueing hit. Privacy is not set to optedin.")}function c(){if(!j){j=!0;var b=h.shift();if(!b)return void(j=!1);if(!e.offlineTrackingEnabled()){var k=ADBMobile_platform.getTimeSince1970()-b.ts;if(k>60)return f.debug("Analytics - Hit is greater than 60 seconds old ("+k+"s), will be deleted ("+b.frag+")"),j=!1,void c()}i.idSync(null,function(e){var h=b.frag;e&&(h+=g.serializeParameters(i.getAnalyticsParameters())),a.getAIDAsync(function(a){a&&(h+=g.serializeKeyValuePair("aid",a)),ADBMobile_platform.httpRequestAsync(d(),"POST",{"Content-type":"application/x-www-form-urlencoded"},h,2e3,function(a,b,d){200==a?f.debug("Analytics - Successfully sent hit ("+d+")"):f.error("Analytics - Unable to send hit ("+d+") response ("+b+")"),j=!1,c()})})})}}function d(){var a=e.ssl()?"https":"http";return a+="://"+e.trackingServer()+"/b/ss/"+e.reportSuiteIDs()+"/0/"+_version.codeVersion+"/s"+Math.floor(1e7*Math.random())}var h=[],j=!1;return{queue:b}}(),d=function(){function a(){if(!t){t=!0;var b=s.shift();if(!b)return void(t=!1);ADBMobile_platform.httpRequestAsync(b,"GET",{},"",2e3,function(b,c,d){if(200==b){f.debug("Audience Manager - Successfully Sent Signal ("+d+"), response ("+c+")");var e=null;try{e=JSON.parse(c)}catch(j){f.debug("Audience Manager - Unable to parse response ("+j+")")}if(e){var g=e.uuid||null;g&&q(g);(e.dests||[]).map(function(a){var b=a.c||null;b&&(f.debug("Audience Manager - Forwarding 'dests' request ("+b+")"),ADBMobile_platform.httpRequestAsync(b,"GET",{},"",2e3,null))});var h=e.stuff||[],i={};h.map(function(a){var b=a.cn||null,c=a.cv||null;b&&c&&(i[b]=c)}),l(i)}}else f.error("Audience Manager - Unable to send signal ("+d+")");t=!1,a()})}}function b(b){if(e.audienceManagerEnabled())if(e.getPrivacyStatus()!=e.PRIVACY_STATUS_OPT_OUT){var d=c(b);f.debug("Audience Manager - Queued Signal("+d+")"),s.push(d),a()}else f.debug("Audience Manager - Not queueing hit. Privacy is not set to optedin.")}function c(a){return(d()+h(a)+j()+"&d_ptfm=appletv&d_dst=1&d_rtbd=json").replace(/\?\&/i,"?")}function d(){return e.ssl()?"https":"http://"+e.aamServer()+"/event?"}function h(a){a=a||{};var b="";return Object.keys(a).forEach(function(a){b+=g.serializeKeyValuePair(k(a),this[a])},a),b}function j(){var a="",b=r()||null;b&&(a+=g.serializeKeyValuePair("d_uuid",b));var c=o()||null,d=p()||null;return c&&d&&(a+=g.serializeKeyValuePair("d_dpid",c)+g.serializeKeyValuePair("d_dpuuid",d)),a+=i.getAAMParameterString()}function k(a){return a.replace("/./g","_")}function l(a){var b=JSON.stringify(a);ADBMobile_platform.writeValue("adb_aam_profile",b)}function m(){var a=ADBMobile_platform.readValue("adb_aam_profile");return JSON.parse(a)}function n(a,b){ADBMobile_platform.writeValue("adb_aam_dpid",a),ADBMobile_platform.writeValue("adb_aam_dpuuid",b)}function o(){return ADBMobile_platform.readValue("adb_aam_dpid")}function p(){return ADBMobile_platform.readValue("adb_aam_dpuuid")}function q(a){ADBMobile_platform.writeValue("adb_aam_uuid",a)}function r(){return ADBMobile_platform.readValue("adb_aam_uuid")}var s=[],t=!1;return{getUUID:r,getDpid:o,getDpuuid:p,setDpidAndDpuuid:n,getVisitorProfile:m,submitSignal:b}}(),e=function(){function a(){if(k=h()||null,k&&f.debug("Config - Found custom visitor id("+k+")"),"object"!=typeof ADBMobileConfig||null===ADBMobileConfig)return void f.error("Config - Unable to find defined ADBMobileConfig object.");"object"==typeof ADBMobileConfig.analytics&&(o=ADBMobileConfig.analytics.offlineEnabled||!1,l=ADBMobileConfig.analytics.server||null,m=ADBMobileConfig.analytics.rsids||null,n=ADBMobileConfig.analytics.ssl||!1,p=ADBMobileConfig.analytics.lifecycleTimeout||300,q=ADBMobileConfig.analytics.privacyDefault||"optedin"),f.debug((d(),"Enabled")),"object"==typeof ADBMobileConfig.audienceManager&&(r=ADBMobileConfig.audienceManager.server||null),f.debug((c(),"Enabled")),"object"==typeof ADBMobileConfig.marketingCloud&&(s=ADBMobileConfig.marketingCloud.org||null),f.debug((e(),"Enabled")),"object"==typeof ADBMobileConfig.mediaHeartbeat&&(t=ADBMobileConfig.mediaHeartbeat.server||null,u=ADBMobileConfig.mediaHeartbeat.publisher||null,v=ADBMobileConfig.mediaHeartbeat.channel||null,w=ADBMobileConfig.mediaHeartbeat.playerName||null,x=ADBMobileConfig.mediaHeartbeat.ssl||!1,y=ADBMobileConfig.mediaHeartbeat.ovp||null,z=ADBMobileConfig.mediaHeartbeat.sdkVersion||null),f.debug((b(),"Enabled"))}function b(){return!!t}function c(){return!!r}function d(){return!(!l||!m)}function e(){return!!s}function g(a){ADBMobile_platform.writeValue("adb_vid",a),k=a}function h(){return k}function i(a){ADBMobile_platform.writeValue("adb_privacy",a)}function j(){var a=ADBMobile_platform.readValue("adb_privacy");return a||q}var k=null,l=null,m=null,n=!1,o=!1,p=300,q="optedin",r=null,s=null,t=null,u=null,v=null,w=null,x=!1,y=null,z=null;return{trackingServer:function(){return l},reportSuiteIDs:function(){return m},ssl:function(){return n},offlineTrackingEnabled:function(){return o},lifecycleTimeout:function(){return p},characterSet:function(){return"UTF-8"},privacyDefault:function(){return q},aamServer:function(){return r},marketingCloudOrganizationIdentifier:function(){return s},mTrackingServer:function(){return t},mPublisher:function(){return u},mChannel:function(){return v},mPlayerName:function(){return w},mSSL:function(){return x},mOVP:function(){return y},mSDK:function(){return z},audienceManagerEnabled:c,analyticsEnabled:d,visitorIDServiceEnabled:e,mediaHearbeatEnabled:b,setUserIdentifier:g,getUserIdentifier:h,setPrivacyStatus:i,getPrivacyStatus:j,init:a}}();e.PRIVACY_STATUS_OPT_IN="optedin",e.PRIVACY_STATUS_OPT_OUT="optedout";var f=function(){function a(a){g.isFunction(a)&&(i=a)}function b(a){h=a}function c(){return h}function d(a){h&&(console.log("ADBMobile Warning: "+a),i&&i(a))}function e(a){h&&(console.log("ADBMobile Debug: "+a),i&&i(a))}function f(a){console.log("ADBMobile Error: "+a),i&&i(a)}var h=!1,i=null;return{setDebugLogging:b,getDebugLogging:c,setLoggerCallback:a,warning:d,debug:e,error:f}}(),g=function(){function a(a){return"&c."+d(e(a))+"&.c"}function b(a,b){return void 0!==b&&null!==b?"&"+encodeURIComponent(a)+"="+encodeURIComponent(b):""}function c(a){var c="";for(var d in a)c+=b(d,a[d]);return c}function d(a){var c="";return a=a||{},Object.keys(a).forEach(function(a){this[a].v&&(c+=b(a,this[a].v)),this[a].subValues&&(c+="&"+a+"."+d(this[a].subValues)+"&."+a)},a),c}function e(a){var b={},c=f(a);return Object.keys(c).forEach(function(a){var c=this[a];!function a(b,c,d,e){if(!(e>=d.length)){var f=d[e];if(c[f]||(c[f]={}),d.length-1==e)return void(c[f].v=b);c[f].subValues||(c[f].subValues={}),a(b,c[f].subValues,d,e+1)}}(c,b,a.split("."),0)},c),b}function f(a){var b={};return a=a||{},Object.keys(a).forEach(function(a){if("string"==typeof a){var c=a.replace(h,".").replace(i,"");c&&(b[c]=this[a])}},a),b}function g(a){return"function"==typeof a}var h=new RegExp("([.]){2,}","g"),i=new RegExp("[^0-9a-zA-Z._]|^[.]{1,}|[.]{1,}$","g");return{serializeContextData:a,serializeKeyValuePair:b,serializeParameters:c,isFunction:g}}(),h={};!function(a){"use strict";var b=function(){return this._ts=ADBMobile_platform.getTimeSince1970Millis(),this._interval=null,this._name=null,this._enabled=!1,this._nextTick=null,this};b.prototype.start=function(a,b){this._enabled?f.debug("Timer -  "+this._name+" timer already started."):(f.debug("Timer - starting "+b+" timer with interval ("+a+")"),this._interval=a,this._name=b,this._ts=ADBMobile_platform.getTimeSince1970Millis(),this._nextTick=this._interval,this._enabled=!0)},b.prototype.stop=function(){this._enabled?(f.debug("Timer - stoping "+this._name+" timer."),this._enabled=!1,this._nextTick=0):f.debug("Timer -  "+this._name+" timer already stopped.")},b.prototype.restartWithNewInterval=function(a){f.debug("Timer - restarting "+this._name+" timer with interval ("+a+")"),this._interval=a,this._ts=ADBMobile_platform.getTimeSince1970Millis(),this._nextTick=this._interval,this._enabled=!0},b.prototype.reset=function(){f.debug("Timer - resetting "+this._name),this._ts=ADBMobile_platform.getTimeSince1970Millis(),this._nextTick=this._interval,this._enabled=!0},b.prototype.ticked=function(){var a=!1,b=ADBMobile_platform.getTimeSince1970Millis()-this._ts;return b>=this._nextTick&&(this._nextTick=b+this._interval,a=!0),a},b.prototype.elapsedTime=function(){return ADBMobile_platform.getTimeSince1970Millis()-this._ts};var c=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};a.Timer=b,a.append=c}(h);var i=function(){function a(){k=ADBMobile_platform.readValue("adb_visitor_mid"),l=ADBMobile_platform.readValue("adb_visitor_blob"),m=ADBMobile_platform.readValue("adb_visitor_hint"),n=ADBMobile_platform.readValue("adb_visitor_ttl"),o=ADBMobile_platform.readValue("adb_visitor_sync")}function b(){return"yxxxxxxxxxxxxxxxxxxyxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(a){return""+Math.floor(10*Math.random())}).replace(/[y]/g,function(a){return""+Math.floor(9*Math.random())})}function c(a,c){if(g.isFunction(c)||(c=function(){}),!e.visitorIDServiceEnabled())return void c(null);var d=e.marketingCloudOrganizationIdentifier(),h=ADBMobile_platform.getTimeSince1970()-o>n;if(k&&!a&&!h)return void c(k);var i=e.ssl()?"https":"http";i+="://dpm.demdex.net/id?d_rtbd=json&d_ver=2&d_orgid="+d,l&&(i+=g.serializeKeyValuePair("d_blob",l)),k&&(i+=g.serializeKeyValuePair("d_mid",k)),m&&(i+=g.serializeKeyValuePair("dcs_region",m)),a&&Object.keys(a).forEach(function(a){i+="&d_cid_ic="+encodeURIComponent(a)+"%01"+encodeURIComponent(this[a])},a),f.debug("ID Service - Sending id sync call ("+i+")"),ADBMobile_platform.httpRequestAsync(i,"GET",{},null,2e3,function(a,d){if(200==a)if(d){f.debug("ID Service - Received received response from server ("+d+")");var e;try{e=JSON.parse(d)}catch(g){e=null}e?e.error_msg?f.error("ID Service - Error received from server("+e.error_msg+")"):e.d_mid?(k=e.d_mid,l=e.d_blob,m=e.dcs_region,n=e.id_sync_ttl||0):(k=b(),l=null,m=null,n=600):f.error("ID Service - Unable to parse response("+d+")")}else f.error("ID Service - Blank response from sync call");else f.error("ID Service - Failed id sync call ("+a+")");o=ADBMobile_platform.getTimeSince1970(),ADBMobile_platform.writeValue("adb_visitor_mid",k),ADBMobile_platform.writeValue("adb_visitor_blob",l),ADBMobile_platform.writeValue("adb_visitor_hint",m),ADBMobile_platform.writeValue("adb_visitor_ttl",n),ADBMobile_platform.writeValue("adb_visitor_sync",o),c(k)})}function d(a){if(g.isFunction(a))return e.visitorIDServiceEnabled()?void c(null,a):void a(null)}function h(){return k?"?mid="+k+"&mcorgid="+e.marketingCloudOrganizationIdentifier():""}function i(){var a={};return k?(a.mid=k,l&&(a.aamb=l),m&&(a.aamlh=m),a):a}function j(){var a="";return k?(a+=g.serializeKeyValuePair("d_mid",k),l&&(a+=g.serializeKeyValuePair("d_blob",l)),m&&(a+=g.serializeKeyValuePair("dcs_region",m)),a):a}var k,l,m,n,o;return{init:a,getMarketingCloudIDAsync:d,idSync:c,getAnalyticsParameters:i,getAnalyticsIDRequestParameterString:h,getAAMParameterString:j}}(),j=function(){function a(a){e.getPrivacyStatus()!=e.PRIVACY_STATUS_OPT_OUT?(f.debug("MediaHeartbeat - Queued Hit"),this._queue.push(a),h.call(this)):f.debug("MediaHeartbeat - Not queueing hit. Privacy is not set to optedin.")}function b(a){e.getPrivacyStatus()!=e.PRIVACY_STATUS_OPT_OUT?(f.debug("MediaHeartbeat - Queued Hit"),this._asyncQueue.push(a)):f.debug("MediaHeartbeat - Not queueing hit. Privacy is not set to optedin.")}function c(){if(this._asyncQueue.length>0){f.debug("MediaHeartbeat - Flush requests. Pending requests:"+this._asyncQueue.length);var a=function(a,b,c){};for(var b in this._asyncQueue)if(this._asyncQueue.hasOwnProperty(b)){var c=i.call(this,this._asyncQueue[b]);f.debug("MediaHeartbeat - Seding the Media Heartbeat Hit ("+c+")"),ADBMobile_platform.httpRequestAsync(c,"GET",{},"",2e3,a)}this._asyncQueue=[]}}function d(a,b,c){if(200==a)if(f.debug("MediaHeartbeat - Successfully sent hit with response data:"+b),b){var d=ADBMobile_platform.parseXML(b),e={};f.debug("MediaHeartbeat - XML response ("+d+")");var g=d.getElementsByTagName("trackingInterval");g&&g.length>0&&(e.trackingInterval=parseInt(ADBMobile_platform.getBaseItem(g).textContent)),g=d.getElementsByTagName("trackExternalErrors"),g&&g.length>0&&(e.trackExternalErrors=parseInt(ADBMobile_platform.getBaseItem(g).textContent)),g=d.getElementsByTagName("setupCheckInterval"),g&&g.length>0&&(e.setupCheckInterval=parseInt(ADBMobile_platform.getBaseItem(g).textContent)),k.updateCheckStatusInterval(e)}else f.debug("MediaHeartbeat - Empty or invalid XML response received");else f.error("MediaHeartbeat - Unable to send hit: "+c),f.debug("MediaHeartbeat - Response code "+a);this._currentHit=null,h.call(this)}function h(){if(this._queue.length>0&&!this._currentHit){this._currentHit=this._queue.shift();var a=this,b=i.call(this,this._currentHit);f.debug("MediaHeartbeat - Sending the Media Heartbeat Hit ("+b+")"),ADBMobile_platform.httpRequestAsync(b,"GET",{},"",2e3,function(b,c,e){d.call(a,b,c,e)})}}function i(a){var b=!1;a.r&&(b=!0);var c=g.serializeParameters(a);return c.length>2&&(c=c.substring(1)),j.call(this,b)+c}function j(a){var b="";if(e.mTrackingServer){if(b=e.mSSL()?"https":"http",b=b+"://"+e.mTrackingServer(),a){b=b+"/settings/"+e.mPublisher().replace(m,"-")+".xml"}b+="?"}return b}function l(){this._asyncQueue=[],this._queue=[],this._currentHit=null}var m=new RegExp("[^a-zA-Z0-9]+","g");return{init:l,queueRequestsForResponse:a,queueAsyncRequest:b,flushAsyncRequests:c}}(),k=function(){function a(a){a.setupCheckInterval?"number"==typeof a.setupCheckInterval?(f.debug("ClockService -  updating the check status interval to: "+a.setupCheckInterval),this._checkStatusInterval=1e3*a.setupCheckInterval,this._checkStatusTimer.restartWithNewInterval(this._checkStatusInterval)):f.debug("ClockService -  updateCheckStatusInterval: interval not an Integer"):f.debug("ClockService -  updateCheckStatusInterval: setupCheckInterval is invalid")}function b(){return!!this._checkStatusTimer.ticked()}function c(){return!!this._reportingTimer.ticked()}function d(){return!!this._flushFilterTimer.ticked()}function e(){this._checkStatusTimer.start(this._checkStatusInterval,this._checkstatus_timer);var a={r:ADBMobile_platform.getTimeSince1970()};j.queueRequestsForResponse(a),this._reportingTimer.start(this._reportingInterval,this._reporting_timer),this._flushFilterTimer.start(this._flushFilterInterval,this._flushfilter_timer),this._active=!0,this._intervalContext=this._intervalContext=ADBMobile_platform.setInterval(function(){o.call(k)},250)}function g(){j.flushAsyncRequests(),this.isActive()&&(this._checkStatusTimer.stop(),this._reportingTimer.stop(),this._flushFilterTimer.stop(),this._active=!1,ADBMobile_platform.clearInterval(this._intervalContext))}function i(){this._checkStatusTimer.reset(),this._reportingTimer.reset(),this._flushFilterTimer.reset()}function m(){return this._active}function n(a){return a==this._reporting_timer?this._reportingTimer:a==this._checkstatus_timer?this._checkStatusTimer:a==this._flushfilter_timer?this._flushFilterTimer:null}function o(){if(this.isActive()){if(this.checkStatusTimerTick()){f.debug("ClockServiceLoop - Check Status Timer Ticked");var a={r:ADBMobile_platform.getTimeSince1970()};j.queueRequestsForResponse(a)}this.flushFilterTimerTick()&&j.flushAsyncRequests(),this.reportingTimerTick()&&(l.isPaused()||l.isSeeking()?f.debug("ClockServiceLoop - Reporting timer ticked but ADBMedia is in Paused/Seeking state."):(f.debug("ClockServiceLoop - Reporting Timer Ticked"),l.trackPlaybackState()))}else f.debug("ClockServiceLoop -  ClockService not initialized yet")}function p(){this._ts=ADBMobile_platform.getTimeSince1970(),this._checkStatusInterval=6e4,this._reportingInterval=1e4,this._flushFilterInterval=250,this._active=!1,this._reporting_timer="ReportingTimer",this._checkstatus_timer="CheckStatusTimer",this._flushfilter_timer="FlushFilterTimer";var a=h.Timer;this._checkStatusTimer=new a,this._reportingTimer=new a,this._flushFilterTimer=new a}return{updateCheckStatusInterval:a,checkStatusTimerTick:b,reportingTimerTick:c,flushFilterTimerTick:d,startClockService:e,stopClockService:g,resetClockService:i,isActive:m,getTimer:n,init:p}}(),l=function(){function a(){k.init(),j.init(),n.init(),m.init(),this._isEnabled=e.mediaHearbeatEnabled(),this._isPaused=!1,this._isSeeking=!1}function c(){this._isEnabled=!0}function d(){return this._isEnabled}function g(){this._isEnabled=!1}function h(){return this._isPaused}function i(){return this._isSeeking}function o(){if(e.mediaHearbeatEnabled()&&this.isEnabled()){k.startClockService();var a=n.getContextData("start");b.trackAction("",a);var c=n.resolveDataForEvent("media-start");j.queueAsyncRequest(c);var d=n.resolveDataForEvent(n._aa_start);j.queueAsyncRequest(d),m.setActiveSession(!0)}else f.debug("trackStart: ADB Media module is in error state.")}function p(a,b){e.mediaHearbeatEnabled()?(this.isEnabled()||this.enable(),m.setMediaInfo(a),m.setMediaContextData(b),m.isActiveTracking()&&m.resetState(),m.setIsActiveTracking(!0)):f.debug("trackLoad: ADB Media module is in error state.")}function q(){m.isActiveTracking()||f.debug("trackUnload: No active tracking session."),m.setIsActiveTracking(!1),m.setActiveSession(!1),m.resetState(),k.stopClockService()}function r(){if(e.mediaHearbeatEnabled()&&this.isEnabled()){if(m.isActiveSession()||this.trackStart(),this._isPaused&&!this._isSeeking){var a=k.getTimer(k._reporting_timer);a&&a.reset(),this._isPaused=!1,L.call(this)}else{var b=n.resolveDataForEvent(m.getCurrentPlaybackState());j.queueAsyncRequest(b)}L.call(this)}else f.debug("trackPlaybackState: ADB Media module is in error state.")}function s(){e.mediaHearbeatEnabled()&&this.isEnabled()?(M.call(this),this._isPaused=!0):f.debug("trackPause: ADB Media module is in error state.")}function t(){if(e.mediaHearbeatEnabled()&&this.isEnabled()){M.call(this);var a=n.resolveDataForEvent(n._media_complete);j.queueAsyncRequest(a)}else f.debug("trackComplete: ADB Media module is in error state.")}function u(a,b){var c=n.resolveDataForEvent("error");c["s:event:source"]=b,c["s:event:id"]=a,j.queueAsyncRequest(c)}function v(a,b,c){e.mediaHearbeatEnabled()&&this.isEnabled()&&(a==l.BUFFER_START?A.call(this):a==l.BUFFER_COMPLETE?B.call(this):a==l.SEEK_START?C.call(this):a==l.SEEK_COMPLETE?D.call(this):a==l.BITRATE_CHANGE?K.call(this):a==l.CHAPTER_START?E.call(this,b,c):a==l.CHAPTER_COMPLETE?F.call(this):a==l.CHAPTER_SKIP?G.call(this):a==l.AD_BREAK_START?x.call(this,b):a==l.AD_BREAK_COMPLETE?y.call(this):a==l.AD_BREAK_SKIP?z.call(this):a==l.AD_START?H.call(this,b,c):a==l.AD_COMPLETE?I.call(this):a==l.AD_SKIP?J.call(this):f.debug("trackMediaEvent: ADB Media module is in error state."))}function w(a){e.mediaHearbeatEnabled()?m.setDelegate(a):f.debug("setDelegate: ADB Media module is in error state.")}function x(a){m.setAdBreakInfo(a)}function y(){m.setAdBreakInfo(null)}function z(){m.setAdBreakInfo(null)}function A(){M.call(this),m.setInBuffering(!0),this.trackPlaybackState()}function B(){M.call(this),m.setInBuffering(!1),m.updateTimeStampForEvent("buffer","-1"),m.updateRefTSForEvent("buffer","-1"),L.call(this)}function C(){this._isSeeking=!0,M.call(this)}function D(){if(this._isSeeking){var a=k.getTimer(k._reporting_timer);a&&a.reset(),this._isSeeking=!1}else f.warning("trackMediaEvent: SEEK_COMPLETE - Not in seek state, nothing to do.")}function E(a,b){M.call(this),m.setInChapterTo(!0),m.setChapterInfo(a),m.setChapterContextData(b);var c=this,d=n.resolveDataForEvent(n._chapter_start);j.queueAsyncRequest(d),c.trackPlaybackState()}function F(){M.call(this);var a=n.resolveDataForEvent(n._chapter_complete);j.queueAsyncRequest(a),m.setInChapterTo(!1),m.updateRefTSForEvent(m.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())}function G(){m.setInChapterTo(!1),m.setChapterInfo(null)}function H(a,c){M.call(this),m.setInAdTo(!0),m.setAdInfo(a),m.setAdContextData(c);var d=n.resolveDataForEvent(n._ad_start);j.queueAsyncRequest(d);var e=n.getContextData("ad-start");b.trackAction("",e);var f=n.resolveDataForEvent(n._aa_ad_start);j.queueAsyncRequest(f)}function I(){M.call(this);var a=n.resolveDataForEvent(n._ad_complete);j.queueAsyncRequest(a),m.setInAdTo(!1),m.updateRefTSForEvent(m.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())}function J(){m.setInAdTo(!1),m.setAdInfo(null)}function K(){m.updateRefTSForEvent(n._bitrate_change,ADBMobile_platform.getTimeSince1970Millis());var a=n.resolveDataForEvent(n._bitrate_change);j.queueAsyncRequest(a)}function L(){if(m.isInAd()){var a=m.getAdInfo(),b=a.id;m.updateRefTSForEvent(b+"_"+m.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())}else m.updateRefTSForEvent(m.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())}function M(){var a=k.getTimer(k._reporting_timer);a&&a.elapsedTime()>250&&(this.trackPlaybackState(),a.reset())}return{init:function(){a.call(l)},enable:function(){c.call(l)},isEnabled:function(){return d.call(l)},disable:function(){g.call(l)},isPaused:function(){return h.call(l)},isSeeking:function(){return i.call(l)},trackStart:function(){o.call(l)},trackLoad:function(a,b){p.call(l,a,b)},trackUnload:function(){q.call(l)},trackPlaybackState:function(){r.call(l)},trackPause:function(){s.call(l)},trackComplete:function(){t.call(l)},trackError:function(a){u.call(l,a,l.ERROR_SOURCE_PLAYER)},trackEvent:function(a,b,c){v.call(l,a,b,c)},setDelegate:function(a){w.call(l,a)}}}();l.BUFFER_START="MediaBufferStart",l.BUFFER_COMPLETE="MediaBufferComplete",l.SEEK_START="MediaSeekStart",l.SEEK_COMPLETE="MediaSeekComplete",l.BITRATE_CHANGE="MediaBitrateChange",l.CHAPTER_START="MediaChapterStart",l.CHAPTER_COMPLETE="MediaChapterComplete",l.CHAPTER_SKIP="MediaChapterSkip",l.AD_BREAK_START="MediaAdBreakStart",l.AD_BREAK_COMPLETE="MediaAdBreakComplete",l.AD_BREAK_SKIP="MediaAdBreakSkip",l.AD_START="MediaAdStart",l.AD_COMPLETE="MediaAdComplete",l.AD_SKIP="MediaAdSkip",l.STREAM_TYPE_LIVE="live",l.STREAM_TYPE_VOD="vod",l.SOURCE_APPLICATION="sourceErrorExternal",l.SOURCE_PLAYER="sourceErrorSDK",l.MediaInfo=function(){this.id="",this.name="",this.length=0,this.streamType=l.STREAM_TYPE_VOD},l.AdInfo=function(){this.id="",this.name="",this.length=0,this.position=0},l.ChapterInfo=function(){this.name="",this.length=0,this.position=0,this.offset=0},l.AdBreakInfo=function(){this.name=null,this.startTime=null,this.position=0,this.playerName=null},l.QoSInfo=function(){this.bitrate=0,this.fps=0,this.droppedFrames=0,this.startupTime=0};var m=function(){function b(){this.eventTSMap={},this.isInAdValue=!1,this.isInChapterValue=!1,this.isActiveTrackingValue=!1,this._isSessionActive=!1,this.resetState()}function c(a){this.isInAdValue=a}function d(a){this.isActiveTrackingValue=a}function g(a){this.isInChapterValue=a}function h(){return this.isActiveTrackingValue}function j(){return this.buffering}function k(){return this.isInAdValue}function m(){return this.isInChapterValue}function n(){return this._isSessionActive}function p(a){this._isSessionActive=a}function q(a){this.buffering=a}function r(){var a=this.currMediaInfo;return a?o.isValidMediaInfoObject(a)||(f.warning("Media - MediaInfo object is not valid"),a=null):f.warning("Media - MediaInfo object not set."),a}function s(){var a=this.currAdBreakInfo;return a?o.isValidAdBreakInfoObject(a)||(f.warning("Media - AdBreakInfo object is not valid"),a=new l.AdBreakInfo,a._isEmptyAdBreak=!0):(f.warning("Media - AdBreakInfo object not set."),a=new l.AdBreakInfo,a._isEmptyAdBreak=!0),a}function t(){var a=this.currAdInfo;return a?o.isValidAdInfoObject(a)||(f.warning("Media - AdInfo object is not valid"),a=null):f.warning("Media - AdInfo object not set."),a}function u(){var a=this.currChapterInfo;return a?o.isValidChapterInfoObject(a)||(f.warning("Media - ChapterInfo object is not valid"),a=null):f.warning("Media - ChapterInfo object not set."),a}function v(){var a;return this.delegate&&"function"==typeof this.delegate.getQoSInfo&&(a=this.delegate.getQoSInfo()),a?o.isValidQoSInfoObject(a)||(f.warning("Media - QoSInfo object is not valid"),a=null):f.warning("Media - QoSInfo object not set."),a}function w(){var a=this.currMediaContextData;return a||f.warning("Media - Media context data is not set."),a}function x(){var a=this.currChapterContextData;return a||f.warning("Media - Chapter context data is not set."),a}function y(){var a=this.currAdContextData;return a||f.warning("Media - Ad context data is not set."),a}function z(a){a||f.warning("Media - Setting media info to invalid."),this.currMediaInfo=a}function A(a){a||f.warning("Media - Setting ad break info to invalid."),this.currAdBreakInfo=a}function B(a){a||f.warning("Media - Setting ad info to invalid."),this.currAdInfo=a}function C(a){a||f.warning("Media - Setting chapter info to invalid."),this.currChapterInfo=a}function D(a){a||f.warning("Media - Setting media qos context data to invalid."),this.currMediaContextData=a}function E(a){a||f.warning("Media - Setting ad context to invalid."),this.currAdContextData=a}function F(a){a||f.warning("Media - Setting chapter context info to invalid."),this.currChapterContextData=a}function G(){this.setInAdTo(!1),this.setInChapterTo(!1),this.isActiveTrackingValue=!1,this.eventTSMap={},this.refTSMap={},this.buffering=!1,this.delegate=null,this.mid=null,this.mid_start=!1,this.aid=null,this.aid_start=!1}function H(a,b){this.eventTSMap[a]=b}function I(a,b){this.refTSMap[a]=b}function J(a){a&&"function"==typeof a.getCurrentPlaybackTime?this.delegate=a:f.error("Media - setDelegate error. The delegate object is required to have the following functions: getCurrentPlaybackTime, getQoSInfo")}function K(){return this.delegate?this.delegate.getCurrentPlaybackTime():(f.error("Media - Please set the media delegate before starting the video tracking."),-1)}function L(){return this.buffering?"buffer":"play"}function M(a){return this.eventTSMap[a]||(this.eventTSMap[a]="-1"),this.eventTSMap[a]}function N(a){return this.refTSMap[a]?this.refTSMap[a]:-1}function O(){if(!this.mid_start){var a=this;this.mid_start=!0,i.getMarketingCloudIDAsync(function(b){a.mid=b})}return this.mid}function P(){if(!this.aid_start){var b=this;this.aid_start=!0,a.getAIDAsync(function(a){b.aid=a})}return this.aid}function Q(){return e.getUserIdentifier()}return{init:b,setInAdTo:c,setIsActiveTracking:d,setInChapterTo:g,isActiveTracking:h,isBuffering:j,isInAd:k,isInChapter:m,isActiveSession:n,setActiveSession:p,setInBuffering:q,getMediaInfo:r,getAdBreakInfo:s,getAdInfo:t,getChapterInfo:u,getQoSInfo:v,getMediaContextData:w,getChapterContextData:x,getAdContextData:y,setMediaInfo:z,setAdBreakInfo:A,setAdInfo:B,setChapterInfo:C,setMediaContextData:D,setAdContextData:E,setChapterContextData:F,resetState:G,updateTimeStampForEvent:H,updateRefTSForEvent:I,getCurrentPlayhead:K,getCurrentPlaybackState:L,getRefTSForEvent:N,getTimeStampForEvent:M,getVisitorID:O,getAdobeAnalyticsID:P,getUserID:Q,setDelegate:J}}(),n=function(){function a(){var a={};return a[this._analytics_rsid]=null,a[this._analytics_trackingserver]=null,a[this._analytics_ssl]=null,a[this._user_aid]=null,a[this._user_mid]=null,a[this._user_vid]=null,a[this._cuser_id]=null,a[this._cuser_puuid]=null,a[this._service_ovp]=null,a[this._service_sdk]=null,a[this._service_channel]=null,a[this._service_playername]=null,a[this._service_hbversion]=null,a[this._service_apilevel]=null,a[this._event_sid]=null,a[this._event_type]=null,a[this._event_duration]=null,a[this._event_playhead]=null,a[this._event_ts]=null,a[this._event_prevts]=null,a[this._asset_type]=null,a[this._asset_mediaid]=null,a[this._asset_publisher]=null,a[this._asset_length]=null,a[this._asset_name]=null,a[this._asset_adid]=null,a[this._asset_adsid]=null,a[this._asset_adname]=null,a[this._asset_adlength]=null,a[this._asset_resolver]=null,
a[this._asset_podid]=null,a[this._asset_podposition]=null,a[this._asset_podname]=null,a[this._asset_podoffset]=null,a[this._stream_chapterid]=null,a[this._stream_chaptersid]=null,a[this._stream_chaptername]=null,a[this._stream_chapterpos]=null,a[this._stream_chapterlength]=null,a[this._stream_chapteroffset]=null,a[this._stream_type]=null,a[this._stream_bitrate]=null,a[this._stream_fps]=null,a[this._stream_droppedFrames]=null,a[this._stream_startup_time]=null,a}function b(b){var c,d,e=a.call(this);return g.call(this,e),j.call(this,e),l.call(this,e),k.call(this,e),e[this._event_sid]=v.call(this),b==this._aa_start?(n.call(this,e,b),f.call(this,e)):b==this._aa_ad_start?n.call(this,e,b):b==this._media_start?(n.call(this,e,"start"),r.call(this,e)):b==this._ad_start?(this._adSessionIdValue=null,n.call(this,e,"start"),r.call(this,e),c=m.getAdInfo(),d=c.id,m.updateRefTSForEvent(d+"_"+m.getCurrentPlaybackState(),ADBMobile_platform.getTimeSince1970Millis())):b==this._ad_complete?n.call(this,e,"complete"):b==this._chapter_start?(this._chapterSessionIdValue=null,m.updateRefTSForEvent(b,ADBMobile_platform.getTimeSince1970Millis()),n.call(this,e,b),r.call(this,e)):b==this._chapter_complete?(m.updateRefTSForEvent(b,ADBMobile_platform.getTimeSince1970Millis()),n.call(this,e,b)):b==this._bitrate_change?n.call(this,e,b):b==this._media_complete?(n.call(this,e,"complete"),this._mediaSessionIdValue=null):n.call(this,e,b),m.isInAd()?(p.call(this,e),c=m.getAdInfo(),d=c.id,o.call(this,e,d+"_"+b)):o.call(this,e,b),m.isInChapter()&&q.call(this,e),i.call(this,e),e}function c(a){var b,c,f={};if("start"==a)b=m.getMediaContextData(),b&&h.append(f,b),c=m.getMediaInfo(),f["a.contentType"]=c.streamType,f["a.media.name"]=c.id,f["a.media.friendlyName"]=c.name,f["a.media.length"]=Math.floor(c.length)||"0",f["a.media.playerName"]=e.mPlayerName(),f["a.media.channel"]=e.mChannel(),f["a.media.view"]="true",f["&&pev3"]="video",f["&&pe"]="ms_s",d.getDpid()&&(f["&&cid.userId.id"]=d.getDpid()),d.getDpuuid()&&(f["&&cid.puuid.id"]=d.getDpuuid());else if("ad-start"==a){b=m.getMediaContextData();var g=m.getAdContextData();b&&h.append(f,b),g&&h.append(f,g),c=m.getMediaInfo();var i=m.getAdInfo(),j=m.getAdBreakInfo(),k=h.md5(c.id),l=k+"_"+(j.position||""),n=void 0===j.startTime?m.getCurrentPlayhead():j.startTime;f["a.contentType"]=c.streamType,f["a.media.name"]=c.id,f["a.media.playerName"]=e.mPlayerName(),f["a.media.channel"]=e.mChannel(),f["a.media.ad.name"]=i.id,f["a.media.ad.friendlyName"]=i.name,f["a.media.ad.podFriendlyName"]=j.name||"",f["a.media.ad.length"]=Math.floor(i.length)||"0",f["a.media.ad.playerName"]=j.playerName||e.mPlayerName(),f["a.media.ad.pod"]=l,f["a.media.ad.podPosition"]=Math.floor(i.position)||"0",f["a.media.ad.podSecond"]=Math.floor(n)||"0",f["a.media.ad.view"]=!0,f["&&pev3"]="videoAd",f["&&pe"]="msa_s",d.getDpid()&&(f["&&cid.userId.id"]=d.getDpid()),d.getDpuuid()&&(f["&&cid.puuid.id"]=d.getDpuuid())}return f}function f(a){d.getDpid()&&(a[this._cuser_id]=d.getDpid()),d.getDpuuid()&&(a[this._cuser_puuid]=d.getDpuuid())}function g(a){a[this._analytics_rsid]=e.reportSuiteIDs(),a[this._analytics_trackingserver]=e.trackingServer(),e.ssl()?a[this._analytics_ssl]=1:a[this._analytics_ssl]=0}function i(a){a[this._user_aid]=m.getAdobeAnalyticsID(),a[this._user_mid]=m.getVisitorID(),a[this._user_vid]=m.getUserID()}function j(a){a[this._service_ovp]=e.mOVP(),a[this._service_sdk]=e.mSDK(),a[this._service_channel]=e.mChannel(),a[this._service_playername]=e.mPlayerName(),a[this._service_hbversion]=_version.codeVersion,a[this._service_apilevel]=_version.mediaAPILevel}function k(a){var b=m.getMediaInfo();b&&(a[this._stream_type]=b.streamType);var c=m.getQoSInfo();c&&(a[this._stream_droppedFrames]=Math.floor(c.droppedFrames),a[this._stream_startup_time]=Math.floor(c.startupTime),a[this._stream_fps]=Math.floor(c.fps),a[this._stream_bitrate]=Math.floor(c.bitrate))}function l(a){var b=m.getMediaInfo();a[this._asset_type]="main",b&&(a[this._asset_mediaid]=b.id,a[this._asset_length]=Math.floor(b.length),a[this._asset_name]=b.name),a[this._asset_publisher]=e.mPublisher()}function n(a,b){var c=m.getCurrentPlayhead();"number"==typeof c&&(a[this._event_playhead]=Math.floor(c)),a[this._event_type]=b}function o(a,b){var c=ADBMobile_platform.getTimeSince1970Millis(),d=m.getTimeStampForEvent(b),e=m.getRefTSForEvent(b);-1==e&&(e=d),a[this._event_prevts]=d,a[this._event_ts]=c,a[this._event_duration]=-1==e?0:z(c,e),m.updateTimeStampForEvent(b,c)}function p(a){a[this._asset_type]="ad";var b=m.getAdBreakInfo();if(b&&!b._isEmptyAdBreak){a[this._asset_resolver]=b.playerName||e.mPlayerName(),a[this._asset_podposition]=b.position,a[this._asset_podname]=b.name,a[this._asset_podoffset]=Math.floor(b.startTime);var c=h.md5(a[this._asset_mediaid]);a[this._asset_podid]=c+"_"+a[this._asset_podposition]}var d=m.getAdInfo();d&&(a[this._asset_adid]=d.id,a[this._asset_adname]=d.name,a[this._asset_adlength]=Math.floor(d.length)),a[this._asset_adsid]=x.call(this)}function q(a){a[this._stream_chaptersid]=w.call(this);var b=m.getChapterInfo();if(b){a[this._stream_chapterpos]=b.position;var c=h.md5(a[this._asset_mediaid]);a[this._stream_chapterid]=c+"_"+a[this._stream_chapterpos],a[this._stream_chaptername]=b.name,a[this._stream_chapteroffset]=Math.floor(b.offset),a[this._stream_chapterlength]=Math.floor(b.length)}}function r(a){s.call(this,a),m.isInAd()&&t.call(this,a),m.isInChapter()&&u.call(this,a)}function s(a){var b=m.getMediaContextData();if(b)for(var c in b)if(b.hasOwnProperty(c)){var d=this.metaKey+c;a[d]=b[c]}}function t(a){var b=m.getAdContextData();if(b)for(var c in b)if(b.hasOwnProperty(c)){var d=this.metaKey+c;a[d]=b[c]}}function u(a){var b=m.getChapterContextData();if(b)for(var c in b)if(b.hasOwnProperty(c)){var d=this.metaKey+c;a[d]=b[c]}}function v(){return this._mediaSessionIdValue||(this._mediaSessionIdValue=y.call(this)),this._mediaSessionIdValue}function w(){return this._chapterSessionIdValue||(this._chapterSessionIdValue=y.call(this)),this._chapterSessionIdValue}function x(){return this._adSessionIdValue||(this._adSessionIdValue=y.call(this)),this._adSessionIdValue}function y(){return""+ADBMobile_platform.getTimeSince1970Millis()+Math.floor(1e9*Math.random()+1)}function z(a,b){return parseInt(a)-parseInt(b)}function A(){this._analytics_rsid="s:sc:rsid",this._analytics_trackingserver="s:sc:tracking_server",this._analytics_ssl="h:sc:ssl",this._user_aid="s:user:aid",this._user_mid="s:user:mid",this._user_vid="s:user:id",this._cuser_id="s:cuser:userId.id",this._cuser_puuid="s:cuser:puuid.id",this._service_sdk="s:sp:sdk",this._service_apilevel="l:sp:hb_api_lvl",this._service_channel="s:sp:channel",this._service_ovp="s:sp:ovp",this._service_playername="s:sp:player_name",this._service_hbversion="s:sp:hb_version",this._asset_type="s:asset:type",this._asset_publisher="s:asset:publisher",this._asset_mediaid="s:asset:video_id",this._asset_length="l:asset:length",this._asset_name="s:asset:name",this._stream_type="s:stream:type",this._stream_droppedFrames="l:stream:dropped_frames",this._stream_startup_time="l:stream:startup_time",this._stream_fps="l:stream:fps",this._stream_bitrate="l:stream:bitrate",this._stream_chaptersid="s:stream:chapter_sid",this._stream_chapterid="s:stream:chapter_id",this._stream_chaptername="s:stream:chapter_name",this._stream_chapteroffset="l:stream:chapter_offset",this._stream_chapterpos="l:stream:chapter_pos",this._stream_chapterlength="l:stream:chapter_length",this._asset_resolver="s:asset:resolver",this._asset_adid="s:asset:ad_id",this._asset_adsid="s:asset:ad_sid",this._asset_adname="s:asset:ad_name",this._asset_adlength="l:asset:ad_length",this._asset_podid="s:asset:pod_id",this._asset_podposition="s:asset:pod_position",this._asset_podname="s:asset:pod_name",this._asset_podoffset="l:asset:pod_offset",this._event_sid="s:event:sid",this._event_ts="l:event:ts",this._event_prevts="l:event:prev_ts",this._event_type="s:event:type",this._event_duration="l:event:duration",this._event_playhead="l:event:playhead",this._mediaSessionIdValue=null,this._chapterSessionIdValue=null,this._adSessionIdValue=null,this.metaKey="s:meta:",this._aa_start="aa_start",this._aa_ad_start="aa_ad_start",this._bitrate_change="bitrate_change",this._chapter_start="chapter_start",this._chapter_complete="chapter_complete",this._ad_start="media-ad-start",this._ad_complete="media-ad-complete",this._media_start="media-start",this._media_complete="media-complete"}return{init:A,resolveDataForEvent:b,getContextData:c}}(),o=function(){function a(a){return void 0===a.id?(f.warning("Media - MediaInfo does not have value for media-id"),!1):void 0!==a.length||(f.warning("Media - MediaInfo does not have value for playhead"),!1)}function b(a){return void 0!==a.position||(f.warning("Media - AdBreak Info does not have value for position"),!1)}function c(a){return void 0!==a.id||(f.warning("Media - Ad Info does not have value for ad id"),!1)}function d(a){return void 0===a.position?(f.warning("Media - Chapter Info does not have value for chapter position"),!1):void 0===a.name?(f.warning("Media - Chapter Info does not have value for chapter name"),!1):void 0===a.offset?(f.warning("Media - Chapter Info does not have value for chapter offset"),!1):void 0!==a.length||(f.warning("Media - Chapter Info does not have value for chapter length"),!1)}function g(a){return void 0===a.droppedFrames?(f.warning("Media - QoS Info does not have value for dropped frames"),!1):void 0===a.startupTime?(f.warning("Media - QoS Info does not have value for startup time"),!1):void 0===a.fps?(f.warning("Media - QoS Info does not have value for frames per second"),!1):void 0!==a.bitrate||(f.warning("Media - QoS Info does not have value for bitrate"),!1)}function h(a){return e.mSDK()?e.mChannel()?e.mOVP()?!!e.mPlayerName()||(f.warning("Media - Config object does not have value for playername."),!1):(f.warning("Media - Config object does not have value for ovp."),!1):(f.warning("Media - Media - Config object does not have value for channel."),!1):(f.warning("Media - Config object does not have value for sdk."),!1)}return{isValidMediaInfoObject:a,isValidAdBreakInfoObject:b,isValidAdInfoObject:c,isValidChapterInfoObject:d,isValidQoSInfoObject:g,isValidConfigObject:h}}();return function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}(h),e.init(),a.init(),i.init(),l.init(),{version:_version,analytics:{trackState:b.trackState,trackAction:b.trackAction,getTrackingIdentifier:a.getAIDAsync},config:{setUserIdentifier:e.setUserIdentifier,getUserIdentifier:e.getUserIdentifier,setPrivacyStatus:e.setPrivacyStatus,getPrivacyStatus:e.getPrivacyStatus,setLoggerCallback:f.setLoggerCallback,setDebugLogging:f.setDebugLogging,getDebugLogging:f.getDebugLogging,PRIVACY_STATUS_OPT_IN:e.PRIVACY_STATUS_OPT_IN,PRIVACY_STATUS_OPT_OUT:e.PRIVACY_STATUS_OPT_OUT},visitor:{syncIdentifiers:i.idSync,getMarketingCloudID:i.getMarketingCloudIDAsync},audienceManager:{submitSignal:d.submitSignal,getVisitorProfile:d.getVisitorProfile,getDpid:d.getDpid,getDpuuid:d.getDpuuid,setDpidAndDpuuid:d.setDpidAndDpuuid},media:{trackLoad:l.trackLoad,trackUnload:l.trackUnload,trackPlay:l.trackPlaybackState,trackPause:l.trackPause,trackComplete:l.trackComplete,trackError:l.trackError,trackEvent:l.trackEvent,setDelegate:l.setDelegate,MediaInfo:l.MediaInfo,AdInfo:l.AdInfo,ChapterInfo:l.ChapterInfo,AdBreakInfo:l.AdBreakInfo,QoSInfo:l.QoSInfo,MediaConfig:l.MediaConfig,BUFFER_START:l.BUFFER_START,BUFFER_COMPLETE:l.BUFFER_COMPLETE,SEEK_START:l.SEEK_START,SEEK_COMPLETE:l.SEEK_COMPLETE,BITRATE_CHANGE:l.BITRATE_CHANGE,CHAPTER_START:l.CHAPTER_START,CHAPTER_COMPLETE:l.CHAPTER_COMPLETE,CHAPTER_SKIP:l.CHAPTER_SKIP,AD_BREAK_START:l.AD_BREAK_START,AD_BREAK_COMPLETE:l.AD_BREAK_COMPLETE,AD_BREAK_SKIP:l.AD_BREAK_SKIP,AD_START:l.AD_START,AD_COMPLETE:l.AD_COMPLETE,AD_SKIP:l.AD_SKIP,STREAM_TYPE_LIVE:l.STREAM_TYPE_LIVE,STREAM_TYPE_VOD:l.STREAM_TYPE_VOD,ERROR_SOURCE_PLAYER:l.ERROR_SOURCE_PLAYER,ERROR_SOURCE_APPLICATION:l.ERROR_SOURCE_APPLICATION}}}();